<!DOCTYPE html>
<html lang="hu">
    <head>
    <meta charset="UTF-8" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    />

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous"
    />
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
    ></script>
    <!-- <link rel="stylesheet" href="/CSS/indexhatter.css"> -->
    <link rel="stylesheet" href="/CSS/stilus.css">
    <link rel="icon" type="image/x-icon" href="/BG/favicon.ico">

    <title>Kezelések listája</title>
</head>
<body>
    <div class="kezeles-main">
    <%- include('./nav.ejs') %>
    <div
            class="modal"
            id="modal-container"
            aria-hidden="true"
        ></div>
    <h1 style="text-align: center;  color: #0046ad;">Kezelések</h1>
    
    <div class="kezelesek-card">
            <div><select id="gordolo">
                <option value="">Beteg kiválasztása</option>
                <% egyediNevek.forEach(element => { %>
                    <option value="<%= element %>"><%= element %></option>
                <% }) %>
                <!-- <option value="anya">Beteg kiválasztása</option> -->
            </select></div>
            <% for( let i = 0; i < kezelesek.length; i++ ) { %>
                <div class="patient-card ">
                    <div style="font-size: 1rem; margin-bottom: 12px;">
                    <!-- <strong>Név:</strong> <strong style="color: rgba(240, 248, 255, 0.747);"><%= kezelesek[i].nev %></strong>  <br> -->
                    <strong >Páciens neve:</strong> <strong style="color: rgba(240, 248, 255, 0.747);"><%= emberkek[i].nev %></strong>  <br>
                    <strong >Orvos neve:</strong> <strong style="color: rgba(240, 248, 255, 0.747);"><%= kezelesek[i].orvos.nev %></strong> <br>
                    <strong>Időpont:</strong> 
                    <strong style="color: rgba(240, 248, 255, 0.747);"> <%= new Date(kezelesek[i].idopont).toLocaleString('hu-HU', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' }).replace(',', '') %></strong>
                </div> 
                <button 
                type="button" class="btn btn-warning edit-button" data-bs-toggle="modal" data-bs-target="#editModal<%= kezelesek.id %>" onclick="szerkesztes('<%= kezelesek[i]._id %>', '<%= emberkek[i].nev %>', '<%= kezelesek[i].orvos.nev %>', '<%= kezelesek[i].idopont %>')">Szerkesztés</button>
                <!-- <button onclick="megnyit('<%= kezelesek[i]._id %>', '<%= emberkek[i].nev %>', '<%= kezelesek[i].orvos.nev %>', '<%= kezelesek[i].idopont %>')">Részletek</button> -->
                <button style="background-color: #d9534f;" onclick="torol('<%= kezelesek[i]._id %>')">Törlés</button>
                </div>
            <% } %>
        <!-- <#% kezelesek.map(kezeles => { %>
        <#% }) %> -->
    </div>
    </div>
    <script src="/js/kezeles/kezeles.js"></script>
    <script src="/js/kezeles/megnyit.js"></script>
    <script src="/js/kezeles/modal.js"></script>
    <script src="/js/kezeles/torol.js"></script>
</body>
</html>
